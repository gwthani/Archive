(()=>{var e={};e.id=974,e.ids=[974],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3568:()=>{},5486:e=>{"use strict";e.exports=require("bcrypt")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15356:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(65207);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23400:(e,r,t)=>{Promise.resolve().then(t.bind(t,53104))},24726:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(59260);function n({error:e,reset:r}){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Something went wrong!"}),(0,s.jsx)("button",{type:"button",onClick:()=>r(),children:"Try again"})]})}t(39045)},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30378:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>m,tree:()=>l});var s=t(93582),n=t(24825),o=t(31553),i=t.n(o),a=t(4782),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);t.d(r,d);let l={children:["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,80649)),"/Users/jad/Desktop/dev/smart/new-arc/app/page.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,15356))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,41010)),"/Users/jad/Desktop/dev/smart/new-arc/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,61900)),"/Users/jad/Desktop/dev/smart/new-arc/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,81306)),"/Users/jad/Desktop/dev/smart/new-arc/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,83671,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,88986,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5827,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,15356))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,p=["/Users/jad/Desktop/dev/smart/new-arc/app/page.tsx"],c={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},32531:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,51867,23)),Promise.resolve().then(t.t.bind(t,99751,23)),Promise.resolve().then(t.t.bind(t,82395,23)),Promise.resolve().then(t.t.bind(t,4394,23)),Promise.resolve().then(t.t.bind(t,60334,23)),Promise.resolve().then(t.t.bind(t,64722,23)),Promise.resolve().then(t.t.bind(t,35776,23)),Promise.resolve().then(t.t.bind(t,8154,23))},33873:e=>{"use strict";e.exports=require("path")},35471:(e,r,t)=>{Promise.resolve().then(t.bind(t,61900))},36078:(e,r,t)=>{"use strict";t.d(r,{App:()=>s.A,ConfigProvider:()=>n.Ay});var s=t(76469),n=t(30108)},38315:()=>{},41010:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u,metadata:()=>m});var s=t(92710),n=t(63519),o=t(58240),i=t.n(o),a=t(97550),d=t.n(a),l=t(45484);t(6906);var p=t(67576),c=t(62715);t(38315);let m={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${d().variable} antialiased`,children:(0,s.jsx)(n.Z,{children:(0,s.jsx)(c.SessionProvider,{children:(0,s.jsx)(l.NuqsAdapter,{children:(0,s.jsx)(p.ConfigProvider,{direction:"rtl",children:(0,s.jsx)(p.App,{children:e})})})})})})})}},41484:(e,r,t)=>{Promise.resolve().then(t.bind(t,36078)),Promise.resolve().then(t.bind(t,46021)),Promise.resolve().then(t.bind(t,17376)),Promise.resolve().then(t.bind(t,52671)),Promise.resolve().then(t.bind(t,23365))},43719:(e,r,t)=>{Promise.resolve().then(t.bind(t,24726))},43817:(e,r,t)=>{"use strict";t.d(r,{db:()=>n});var s=t(96330);global.__prisma||(global.__prisma=new s.PrismaClient),global.__prisma.$connect();let n=global.__prisma},44372:(e,r,t)=>{"use strict";t.d(r,{j2:()=>v,LX:()=>P,Y9:()=>h});var s=t(35039);s.z.enum(["USER","EDITOR","ADMIN"]).default("USER");let n=s.z.string().email().transform(e=>e.toLowerCase().trim()),o=s.z.string().min(8).max(100).transform(e=>e.trim());s.z.object({email:n,password:o});let i=s.z.object({username:s.z.string(),password:s.z.string()});s.z.object({email:n}),s.z.object({password:o,passwordConfirmation:o,token:s.z.string().optional()}).refine(e=>e.password===e.passwordConfirmation,{message:"Passwords don't match",path:["passwordConfirmation"]}),s.z.object({currentPassword:s.z.string(),newPassword:o});var a=t(43817),d=t(85638),l=t(6766),p=t(5486),c=t.n(p);let m=Number.parseInt(process.env.SALT_ROUNDS||"");if(!m||!Number.isInteger(m))throw Error("SALT_ROUNDS environment variable is not set");let u=async(e,r)=>await c().compare(e,r),{auth:v,handlers:h,signIn:b,signOut:f}=(0,d.Ay)({trustHost:"true"===process.env.TRUST_HOST,useSecureCookies:"false"!==process.env.SECURE_COOKIES,callbacks:{authorized:async({auth:e})=>!!e,jwt:({token:e,user:r})=>(r&&(e.user=r),e),session:({session:e,token:r})=>({...e,user:{...e.user,...r.user}})},cookies:{sessionToken:{options:{}}},providers:[(0,l.A)({name:"credentials",async authorize(e,r){try{let{username:r,password:t}=i.parse(e),s=await a.db.user.findFirst({where:{username:r}});if(s&&await u(t,s.passwordHash))return{id:s.id,name:s.username,role:s.role}}catch(e){return null}return console.log("failed to authorize..."),null}})],pages:{signIn:"/auth/login"}}),P=async e=>{let r=await v();return e.findIndex(e=>e===r?.user.role)>=0}},53104:(e,r,t)=>{"use strict";t.d(r,{Spin:()=>s.A});var s=t(91528)},55511:e=>{"use strict";e.exports=require("crypto")},59848:(e,r,t)=>{Promise.resolve().then(t.bind(t,65190))},61900:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(678).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jad/Desktop/dev/smart/new-arc/app/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/app/error.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65190:(e,r,t)=>{"use strict";t.d(r,{Spin:()=>s});let s=(0,t(678).registerClientReference)(function(){throw Error("Attempted to call Spin() from the server but Spin is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/node_modules/.pnpm/antd@5.25.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/antd/es/index.js@__barrel_optimize__?names=Spin","Spin")},67576:(e,r,t)=>{"use strict";t.d(r,{App:()=>n,ConfigProvider:()=>o});var s=t(678);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call App() from the server but App is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/node_modules/.pnpm/antd@5.25.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/antd/es/index.js@__barrel_optimize__?names=App,ConfigProvider","App"),o=(0,s.registerClientReference)(function(){throw Error("Attempted to call ConfigProvider() from the server but ConfigProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/node_modules/.pnpm/antd@5.25.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/antd/es/index.js@__barrel_optimize__?names=App,ConfigProvider","ConfigProvider")},77932:(e,r,t)=>{Promise.resolve().then(t.bind(t,67576)),Promise.resolve().then(t.bind(t,84467)),Promise.resolve().then(t.t.bind(t,6906,23)),Promise.resolve().then(t.bind(t,62715)),Promise.resolve().then(t.bind(t,45484))},79387:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86161,23)),Promise.resolve().then(t.t.bind(t,8425,23)),Promise.resolve().then(t.t.bind(t,31553,23)),Promise.resolve().then(t.t.bind(t,83152,23)),Promise.resolve().then(t.t.bind(t,94448,23)),Promise.resolve().then(t.t.bind(t,59556,23)),Promise.resolve().then(t.t.bind(t,13554,23)),Promise.resolve().then(t.t.bind(t,44244,23))},79551:e=>{"use strict";e.exports=require("url")},80649:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var s=t(92710),n=t(44372),o=t(12917);async function i(){return await (0,n.LX)(["ADMIN","EDITOR","USER"])?(0,o.redirect)("/books"):(0,o.redirect)("/auth/login"),(0,s.jsx)("div",{})}},81306:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(92710),n=t(65190);function o(){return(0,s.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(n.Spin,{size:"large"})})}},93840:()=>{},96330:e=>{"use strict";e.exports=require("@prisma/client")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[175,509,667,457,207],()=>t(30378));module.exports=s})();