exports.id=125,exports.ids=[125],exports.modules={210:(e,r,t)=>{"use strict";t.d(r,{JC:()=>n,Rp:()=>o,Sw:()=>l,az:()=>a,wJ:()=>i});var s=t(11475);let n=s.z.enum(["USER","EDITOR","ADMIN"]).default("USER"),o=s.z.string().email().transform(e=>e.toLowerCase().trim()),i=s.z.string().min(8).max(100).transform(e=>e.trim());s.z.object({email:o,password:i});let a=s.z.object({username:s.z.string(),password:s.z.string()});s.z.object({email:o}),s.z.object({password:i,passwordConfirmation:i,token:s.z.string().optional()}).refine(e=>e.password===e.passwordConfirmation,{message:"Passwords don't match",path:["passwordConfirmation"]});let l=s.z.object({currentPassword:s.z.string(),newPassword:i})},1227:(e,r,t)=>{"use strict";t.d(r,{CI:()=>m,Jv:()=>c,LX:()=>p,j2:()=>l});var s=t(210),n=t(78190),o=t(41612),i=t(49147),a=t(26960);let{auth:l,handlers:d,signIn:c,signOut:m}=(0,o.Ay)({trustHost:"true"===process.env.TRUST_HOST,useSecureCookies:"false"!==process.env.SECURE_COOKIES,callbacks:{authorized:async({auth:e})=>!!e,jwt:({token:e,user:r})=>(r&&(e.user=r),e),session:({session:e,token:r})=>({...e,user:{...e.user,...r.user}})},cookies:{sessionToken:{options:{}}},providers:[(0,i.A)({name:"credentials",async authorize(e,r){try{let{username:r,password:t}=s.az.parse(e),o=await n.db.user.findFirst({where:{username:r}});if(o&&await (0,a.b9)(t,o.passwordHash))return{id:o.id,name:o.username,role:o.role}}catch(e){return null}return console.log("failed to authorize..."),null}})],pages:{signIn:"/auth/login"}}),p=async e=>{let r=await l();return e.findIndex(e=>e===r?.user.role)>=0}},4095:(e,r,t)=>{"use strict";t.d(r,{i:()=>d,r:()=>l});var s=t(88852);t(11682);var n=t(1227),o=t(41612),i=t(95354),a=t(5886);let l=async()=>{let e=await (0,n.j2)();e?.user?.name||(0,i.redirect)("/auth/login"),await (0,n.CI)()},d=async e=>{try{await (0,n.Jv)("credentials",e)}catch(e){if(e instanceof o.lR)return{error:"خطأ في البيانات المدخلة!"};if(e.digest?.startsWith("NEXT_REDIRECT"))throw e;return{error:"Unkown error while loggin in"}}};(0,a.D)([l,d]),(0,s.A)(l,"7fbccf63901d2a977697f12a1d602c14f4768d5b6f",null),(0,s.A)(d,"7f31699c58a1039e515a8e7ab5ee4dc5e73e2dc616",null)},15356:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(65207);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},23400:(e,r,t)=>{Promise.resolve().then(t.bind(t,53104))},24726:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(59260);function n({error:e,reset:r}){return(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Something went wrong!"}),(0,s.jsx)("button",{type:"button",onClick:()=>r(),children:"Try again"})]})}t(39045)},26960:(e,r,t)=>{"use strict";t.d(r,{Er:()=>i,b9:()=>a,i$:()=>d});var s=t(5486),n=t.n(s);let o=Number.parseInt(process.env.SALT_ROUNDS||"");if(!o||!Number.isInteger(o))throw Error("SALT_ROUNDS environment variable is not set");let i=async e=>await n().hash(e,o),a=async(e,r)=>await n().compare(e,r),l={ا:"A",ب:"B",ت:"T",ث:"T",ج:"J",ح:"H",خ:"K",د:"D",ذ:"D",ر:"R",ز:"Z",س:"S",ش:"S",ص:"S",ض:"D",ط:"T",ظ:"Z",ع:"A",غ:"G",ف:"F",ق:"Q",ك:"K",ل:"L",م:"M",ن:"N",ه:"H",و:"W",ي:"Y",أ:"A",إ:"E",ؤ:"O",ئ:"I",آ:"A",ة:"H",ى:"A",ء:"A"},d=(e,r,t,s)=>{let n,o=(l[r[0]]??r[0])+(l[t[0]]??t[0]);n=e<10?`00${e}`:e<100?`0${e}`:String(e);let i=`GW${o}${s.slice(2,4)}${n}`;return console.table({authorFirstName:r,authorLastName:t,authorPart:o,code:i}),i}},32531:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,51867,23)),Promise.resolve().then(t.t.bind(t,99751,23)),Promise.resolve().then(t.t.bind(t,82395,23)),Promise.resolve().then(t.t.bind(t,4394,23)),Promise.resolve().then(t.t.bind(t,60334,23)),Promise.resolve().then(t.t.bind(t,64722,23)),Promise.resolve().then(t.t.bind(t,35776,23)),Promise.resolve().then(t.t.bind(t,8154,23))},35471:(e,r,t)=>{Promise.resolve().then(t.bind(t,61900))},36078:(e,r,t)=>{"use strict";t.d(r,{App:()=>s.A,ConfigProvider:()=>n.Ay});var s=t(76469),n=t(30108)},38315:()=>{},41010:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u,metadata:()=>p});var s=t(92710),n=t(63519),o=t(58240),i=t.n(o),a=t(97550),l=t.n(a),d=t(45484);t(6906);var c=t(67576),m=t(62715);t(38315);let p={title:"Create Next App",description:"Generated by create next app"};function u({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsx)("body",{className:`${i().variable} ${l().variable} antialiased`,children:(0,s.jsx)(n.Z,{children:(0,s.jsx)(m.SessionProvider,{children:(0,s.jsx)(d.NuqsAdapter,{children:(0,s.jsx)(c.ConfigProvider,{direction:"rtl",children:(0,s.jsx)(c.App,{children:e})})})})})})})}},41484:(e,r,t)=>{Promise.resolve().then(t.bind(t,36078)),Promise.resolve().then(t.bind(t,46021)),Promise.resolve().then(t.bind(t,17376)),Promise.resolve().then(t.bind(t,52671)),Promise.resolve().then(t.bind(t,23365))},43719:(e,r,t)=>{Promise.resolve().then(t.bind(t,24726))},43817:(e,r,t)=>{"use strict";t.d(r,{db:()=>n});var s=t(96330);global.__prisma||(global.__prisma=new s.PrismaClient),global.__prisma.$connect();let n=global.__prisma},44372:(e,r,t)=>{"use strict";t.d(r,{j2:()=>v,LX:()=>w,Y9:()=>h});var s=t(35039);s.z.enum(["USER","EDITOR","ADMIN"]).default("USER");let n=s.z.string().email().transform(e=>e.toLowerCase().trim()),o=s.z.string().min(8).max(100).transform(e=>e.trim());s.z.object({email:n,password:o});let i=s.z.object({username:s.z.string(),password:s.z.string()});s.z.object({email:n}),s.z.object({password:o,passwordConfirmation:o,token:s.z.string().optional()}).refine(e=>e.password===e.passwordConfirmation,{message:"Passwords don't match",path:["passwordConfirmation"]}),s.z.object({currentPassword:s.z.string(),newPassword:o});var a=t(43817),l=t(85638),d=t(6766),c=t(5486),m=t.n(c);let p=Number.parseInt(process.env.SALT_ROUNDS||"");if(!p||!Number.isInteger(p))throw Error("SALT_ROUNDS environment variable is not set");let u=async(e,r)=>await m().compare(e,r),{auth:v,handlers:h,signIn:b,signOut:f}=(0,l.Ay)({trustHost:"true"===process.env.TRUST_HOST,useSecureCookies:"false"!==process.env.SECURE_COOKIES,callbacks:{authorized:async({auth:e})=>!!e,jwt:({token:e,user:r})=>(r&&(e.user=r),e),session:({session:e,token:r})=>({...e,user:{...e.user,...r.user}})},cookies:{sessionToken:{options:{}}},providers:[(0,d.A)({name:"credentials",async authorize(e,r){try{let{username:r,password:t}=i.parse(e),s=await a.db.user.findFirst({where:{username:r}});if(s&&await u(t,s.passwordHash))return{id:s.id,name:s.username,role:s.role}}catch(e){return null}return console.log("failed to authorize..."),null}})],pages:{signIn:"/auth/login"}}),w=async e=>{let r=await v();return e.findIndex(e=>e===r?.user.role)>=0}},53104:(e,r,t)=>{"use strict";t.d(r,{Spin:()=>s.A});var s=t(91528)},59848:(e,r,t)=>{Promise.resolve().then(t.bind(t,65190))},61900:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(678).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/jad/Desktop/dev/smart/new-arc/app/error.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/app/error.tsx","default")},65190:(e,r,t)=>{"use strict";t.d(r,{Spin:()=>s});let s=(0,t(678).registerClientReference)(function(){throw Error("Attempted to call Spin() from the server but Spin is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/node_modules/.pnpm/antd@5.25.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/antd/es/index.js@__barrel_optimize__?names=Spin","Spin")},67576:(e,r,t)=>{"use strict";t.d(r,{App:()=>n,ConfigProvider:()=>o});var s=t(678);let n=(0,s.registerClientReference)(function(){throw Error("Attempted to call App() from the server but App is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/node_modules/.pnpm/antd@5.25.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/antd/es/index.js@__barrel_optimize__?names=App,ConfigProvider","App"),o=(0,s.registerClientReference)(function(){throw Error("Attempted to call ConfigProvider() from the server but ConfigProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jad/Desktop/dev/smart/new-arc/node_modules/.pnpm/antd@5.25.2_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/antd/es/index.js@__barrel_optimize__?names=App,ConfigProvider","ConfigProvider")},77932:(e,r,t)=>{Promise.resolve().then(t.bind(t,67576)),Promise.resolve().then(t.bind(t,84467)),Promise.resolve().then(t.t.bind(t,6906,23)),Promise.resolve().then(t.bind(t,62715)),Promise.resolve().then(t.bind(t,45484))},78190:(e,r,t)=>{"use strict";t.d(r,{db:()=>n});var s=t(96330);global.__prisma||(global.__prisma=new s.PrismaClient),global.__prisma.$connect();let n=global.__prisma},79387:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86161,23)),Promise.resolve().then(t.t.bind(t,8425,23)),Promise.resolve().then(t.t.bind(t,31553,23)),Promise.resolve().then(t.t.bind(t,83152,23)),Promise.resolve().then(t.t.bind(t,94448,23)),Promise.resolve().then(t.t.bind(t,59556,23)),Promise.resolve().then(t.t.bind(t,13554,23)),Promise.resolve().then(t.t.bind(t,44244,23))},81306:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var s=t(92710),n=t(65190);function o(){return(0,s.jsx)("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,s.jsx)(n.Spin,{size:"large"})})}}};