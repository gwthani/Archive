(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{11116:(e,t,n)=>{"use strict";n.d(t,{default:()=>s});var o=n(66384),c=n(18866),a=n.n(c),r=n(725),i=n(47507);n(16636);let s=()=>{let e=async()=>{window.open("/settings/exports/backup","_blank")};return(0,o.jsx)("div",{className:a().block,children:(0,o.jsx)(r.A,{justify:"space-around",style:{minWidth:300},children:(0,o.jsx)(i.Ay,{onClick:e,children:"نسخ احتياطي"})})})}},18866:e=>{e.exports={main:"Settings_main__8wh7f",block:"Settings_block__hUbzq"}},37434:(e,t,n)=>{"use strict";n.d(t,{ChangePasswordForm:()=>y});var o=n(66384),c=n(18866),a=n.n(c),r=n(15590),i=n(95957),s=n(27131),l=n(59257),d=n(725),m=n(47507),p=n(24582),u=n(16636),g=n(55836);let h=(0,g.createServerReference)("7f06e3e68dd87241c80e01ee3f9d9be9eb507c62ca",g.callServer,void 0,g.findSourceMapURL,"changePassword"),{Item:b}=r.A,{Password:f}=i.A,v={USER:"مستخدم",EDITOR:"محرر",ADMIN:"مشرف"},y=e=>{let{username:t,userRole:n}=e,{message:c}=s.A.useApp(),i=(0,p.useRouter)(),[g]=r.A.useForm(),[y,w]=(0,u.useState)(""),[x,j]=(0,u.useState)(!1),A=async e=>{if(e.currentPassword===e.newPassword)return void w("New password cannot be the old one!");try{j(!0),await h(e),c.success("Updated!"),g.resetFields(),i.refresh(),j(!1)}catch(e){var t;j(!1),c.error("Failed!"),(null==(t=e.message)?void 0:t.includes("password"))?w("Sorry, incorrect password"):w("".concat(e.toString()))}};return(0,o.jsx)("div",{className:a().block,style:{alignSelf:"center"},children:(0,o.jsxs)(r.A,{form:g,layout:"vertical",style:{width:300},onFinish:A,children:[(0,o.jsx)(b,{hidden:!y,children:(0,o.jsx)(l.A,{message:y,type:"warning",onClose:()=>w("")})}),(0,o.jsx)(b,{label:"البريد الإلكتروني",layout:"horizontal",children:(0,o.jsx)("strong",{children:t})}),(0,o.jsx)(b,{label:"الصلاحية",layout:"horizontal",children:(0,o.jsx)("strong",{children:n?v[n]:"N/A"})}),(0,o.jsx)(b,{label:"كلمة المرور الحالية",name:"currentPassword",rules:[{required:!0,message:""},{min:8,message:"minimum length is 8 characters"}],children:(0,o.jsx)(f,{autoComplete:"off"})}),(0,o.jsx)(b,{label:"كلمة المرور الجديدة",name:"newPassword",rules:[{required:!0,message:""},{min:8,message:"minimum length is 8 characters"}],children:(0,o.jsx)(f,{autoComplete:"new-password"})}),(0,o.jsx)(b,{children:(0,o.jsx)(d.A,{justify:"center",children:(0,o.jsx)(m.Ay,{htmlType:"submit",loading:x,children:"حفظ التغيير"})})})]})})}},59257:(e,t,n)=>{"use strict";n.d(t,{A:()=>H});var o=n(16636),c=n(33704),a=n(75999),r=n(51304),i=n(64654),s=n(74354),l=n(18510),d=n.n(l),m=n(54310),p=n(13070),u=n(98700),g=n(76239),h=n(3578),b=n(3660),f=n(79348),v=n(44275);let y=(e,t,n,o,c)=>({background:e,border:"".concat((0,b.zA)(o.lineWidth)," ").concat(o.lineType," ").concat(t),["".concat(c,"-icon")]:{color:n}}),w=e=>{let{componentCls:t,motionDurationSlow:n,marginXS:o,marginSM:c,fontSize:a,fontSizeLG:r,lineHeight:i,borderRadiusLG:s,motionEaseInOutCirc:l,withDescriptionIconSize:d,colorText:m,colorTextHeading:p,withDescriptionPadding:u,defaultPadding:g}=e;return{[t]:Object.assign(Object.assign({},(0,f.dF)(e)),{position:"relative",display:"flex",alignItems:"center",padding:g,wordWrap:"break-word",borderRadius:s,["&".concat(t,"-rtl")]:{direction:"rtl"},["".concat(t,"-content")]:{flex:1,minWidth:0},["".concat(t,"-icon")]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:a,lineHeight:i},"&-message":{color:p},["&".concat(t,"-motion-leave")]:{overflow:"hidden",opacity:1,transition:"max-height ".concat(n," ").concat(l,", opacity ").concat(n," ").concat(l,",\n        padding-top ").concat(n," ").concat(l,", padding-bottom ").concat(n," ").concat(l,",\n        margin-bottom ").concat(n," ").concat(l)},["&".concat(t,"-motion-leave-active")]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),["".concat(t,"-with-description")]:{alignItems:"flex-start",padding:u,["".concat(t,"-icon")]:{marginInlineEnd:c,fontSize:d,lineHeight:0},["".concat(t,"-message")]:{display:"block",marginBottom:o,color:p,fontSize:r},["".concat(t,"-description")]:{display:"block",color:m}},["".concat(t,"-banner")]:{marginBottom:0,border:"0 !important",borderRadius:0}}},x=e=>{let{componentCls:t,colorSuccess:n,colorSuccessBorder:o,colorSuccessBg:c,colorWarning:a,colorWarningBorder:r,colorWarningBg:i,colorError:s,colorErrorBorder:l,colorErrorBg:d,colorInfo:m,colorInfoBorder:p,colorInfoBg:u}=e;return{[t]:{"&-success":y(c,o,n,e,t),"&-info":y(u,p,m,e,t),"&-warning":y(i,r,a,e,t),"&-error":Object.assign(Object.assign({},y(d,l,s,e,t)),{["".concat(t,"-description > pre")]:{margin:0,padding:0}})}}},j=e=>{let{componentCls:t,iconCls:n,motionDurationMid:o,marginXS:c,fontSizeIcon:a,colorIcon:r,colorIconHover:i}=e;return{[t]:{"&-action":{marginInlineStart:c},["".concat(t,"-close-icon")]:{marginInlineStart:c,padding:0,overflow:"hidden",fontSize:a,lineHeight:(0,b.zA)(a),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",["".concat(n,"-close")]:{color:r,transition:"color ".concat(o),"&:hover":{color:i}}},"&-close-text":{color:r,transition:"color ".concat(o),"&:hover":{color:i}}}}},A=(0,v.OF)("Alert",e=>[w(e),x(e),j(e)],e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:"".concat(e.paddingContentVerticalSM,"px ").concat(12,"px"),withDescriptionPadding:"".concat(e.paddingMD,"px ").concat(e.paddingContentHorizontalLG,"px")}));var S=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&0>t.indexOf(o)&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,o=Object.getOwnPropertySymbols(e);c<o.length;c++)0>t.indexOf(o[c])&&Object.prototype.propertyIsEnumerable.call(e,o[c])&&(n[o[c]]=e[o[c]]);return n};let E={success:c.A,info:s.A,error:a.A,warning:i.A},C=e=>{let{icon:t,prefixCls:n,type:c}=e,a=E[c]||null;return t?(0,g.fx)(t,o.createElement("span",{className:"".concat(n,"-icon")},t),()=>({className:d()("".concat(n,"-icon"),t.props.className)})):o.createElement(a,{className:"".concat(n,"-icon")})},I=e=>{let{isClosable:t,prefixCls:n,closeIcon:c,handleClose:a,ariaProps:i}=e,s=!0===c||void 0===c?o.createElement(r.A,null):c;return t?o.createElement("button",Object.assign({type:"button",onClick:a,className:"".concat(n,"-close-icon"),tabIndex:0},i),s):null},k=o.forwardRef((e,t)=>{let{description:n,prefixCls:c,message:a,banner:r,className:i,rootClassName:s,style:l,onMouseEnter:g,onMouseLeave:b,onClick:f,afterClose:v,showIcon:y,closable:w,closeText:x,closeIcon:j,action:E,id:k}=e,N=S(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[O,P]=o.useState(!1),_=o.useRef(null);o.useImperativeHandle(t,()=>({nativeElement:_.current}));let{getPrefixCls:z,direction:M,closable:R,closeIcon:H,className:D,style:F}=(0,h.TP)("alert"),L=z("alert",c),[T,B,U]=A(L),W=t=>{var n;P(!0),null==(n=e.onClose)||n.call(e,t)},q=o.useMemo(()=>void 0!==e.type?e.type:r?"warning":"info",[e.type,r]),G=o.useMemo(()=>"object"==typeof w&&!!w.closeIcon||!!x||("boolean"==typeof w?w:!1!==j&&null!=j||!!R),[x,j,w,R]),K=!!r&&void 0===y||y,V=d()(L,"".concat(L,"-").concat(q),{["".concat(L,"-with-description")]:!!n,["".concat(L,"-no-icon")]:!K,["".concat(L,"-banner")]:!!r,["".concat(L,"-rtl")]:"rtl"===M},D,i,s,U,B),X=(0,p.A)(N,{aria:!0,data:!0}),J=o.useMemo(()=>"object"==typeof w&&w.closeIcon?w.closeIcon:x||(void 0!==j?j:"object"==typeof R&&R.closeIcon?R.closeIcon:H),[j,w,x,H]),Q=o.useMemo(()=>{let e=null!=w?w:R;if("object"==typeof e){let{closeIcon:t}=e;return S(e,["closeIcon"])}return{}},[w,R]);return T(o.createElement(m.Ay,{visible:!O,motionName:"".concat(L,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:e=>({maxHeight:e.offsetHeight}),onLeaveEnd:v},(t,c)=>{let{className:r,style:i}=t;return o.createElement("div",Object.assign({id:k,ref:(0,u.K4)(_,c),"data-show":!O,className:d()(V,r),style:Object.assign(Object.assign(Object.assign({},F),l),i),onMouseEnter:g,onMouseLeave:b,onClick:f,role:"alert"},X),K?o.createElement(C,{description:n,icon:e.icon,prefixCls:L,type:q}):null,o.createElement("div",{className:"".concat(L,"-content")},a?o.createElement("div",{className:"".concat(L,"-message")},a):null,n?o.createElement("div",{className:"".concat(L,"-description")},n):null),E?o.createElement("div",{className:"".concat(L,"-action")},E):null,o.createElement(I,{isClosable:G,prefixCls:L,closeIcon:J,handleClose:W,ariaProps:Q}))}))});var N=n(13913),O=n(33967),P=n(57506),_=n(78568),z=n(77812),M=n(4097);let R=function(e){function t(){var e,n,o;return(0,N.A)(this,t),n=t,o=arguments,n=(0,P.A)(n),(e=(0,z.A)(this,(0,_.A)()?Reflect.construct(n,o||[],(0,P.A)(this).constructor):n.apply(this,o))).state={error:void 0,info:{componentStack:""}},e}return(0,M.A)(t,e),(0,O.A)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){let{message:e,description:t,id:n,children:c}=this.props,{error:a,info:r}=this.state,i=(null==r?void 0:r.componentStack)||null,s=void 0===e?(a||"").toString():e;return a?o.createElement(k,{id:n,type:"error",message:s,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},void 0===t?i:t)}):c}}])}(o.Component);k.ErrorBoundary=R;let H=k},88691:(e,t,n)=>{Promise.resolve().then(n.bind(n,37434)),Promise.resolve().then(n.bind(n,11116)),Promise.resolve().then(n.t.bind(n,18866,23))}},e=>{var t=t=>e(e.s=t);e.O(0,[661,822,879,497,269,988,131,309,951,358],()=>t(88691)),_N_E=e.O()}]);